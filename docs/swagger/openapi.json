{"openapi":"3.0.1","info":{"title":"Qredo Signing Agent V2","description":"Qredo Signing Agent service interacts with [Partner API](https://developers.qredo.com/partner-api/api/swagger/) to register a Signing Agent to automate approvals according to your custody policy. <br/>\nAuthentication and encryption are required; set up your [API key and secret in the Qredo Web App](https://developers.qredo.com/signing-agent/v2-signing-agent/get-started/). <br/>","contact":{"name":"Qredo API Services","url":"https://www.qredo.com","email":"support@qredo.com"},"license":{"name":"APACHE 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"0.1.0"},"servers":[{"url":"http://localhost:8007/api/v1"},{"url":"https://localhost:8007/api/v1"}],"paths":{"/client":{"get":{"tags":["client"],"summary":"Returns AgentID if it's configured","operationId":"ClientsList","responses":{"200":{"description":"ClientListResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientListResponse"}}}}}}},"/client/action/{action_id}":{"put":{"tags":["action"],"summary":"Approve a transaction","operationId":"actionApprove","parameters":[{"name":"action_id","in":"path","description":"the id of the transaction that is received from the feed","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"GenericResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}},"delete":{"tags":["action"],"summary":"Reject a transaction","operationId":"actionReject","parameters":[{"name":"action_id","in":"path","description":"the id of the transaction that is received from the feed","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"GenericResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}}},"/client/feed":{"post":{"tags":["client"],"summary":"Get approval requests Feed (via websocket) from Qredo Backend","operationId":"ClientFeed","responses":{"200":{"description":"ClientFeedResponse","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientFeedResponse"}}}}}}},"/client/register":{"post":{"tags":["client"],"summary":"Register a new agent","operationId":"RegisterAgent","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientRegisterRequest"}}},"required":false},"responses":{"200":{"description":"ClientFullRegisterResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientFullRegisterResponse"}}}}},"x-codegen-request-body-name":"Body"}},"/healthcheck/config":{"get":{"tags":["healthcheck"],"summary":"Check application configuration.","operationId":"HealthcheckConfig","responses":{"200":{"description":"ConfigResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}}}}},"/healthcheck/status":{"get":{"tags":["healthcheck"],"summary":"Check application status.","operationId":"HealthcheckStatus","responses":{"200":{"description":"HealthCheckStatusResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthCheckStatusResponse"}}}}}}},"/healthcheck/version":{"get":{"tags":["healthcheck"],"summary":"Check application version.","operationId":"HealthcheckVersion","responses":{"200":{"description":"VersionResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}}},"components":{"schemas":{"AWSConfig":{"title":"AWSConfig based signing-agent config. Used when Base StoreType is aws.","type":"object","properties":{"Region":{"type":"string"},"SecretName":{"type":"string"}}},"AutoApprove":{"type":"object","properties":{"Enabled":{"type":"boolean"},"RetryInterval":{"type":"integer","format":"int64"},"RetryIntervalMax":{"type":"integer","format":"int64"}}},"Base":{"type":"object","properties":{"PIN":{"type":"integer","format":"int64"},"QredoAPI":{"type":"string"}}},"ClientFeedResponse":{"type":"object","properties":{"coreClientID":{"type":"string","description":"The ID of the agent","example":"98cTMMSPrDdcDDVU8idhuJGK2U1P4vmQcsp8wnED8pPR"},"expireTime":{"type":"integer","description":"The time that the transaction will expire, utc unix time","format":"int64","example":1676184187},"id":{"type":"string","description":"The ID of the transaction","example":"2IXwq4klvWbnPf1YaAc1XD85jJX"},"status":{"type":"string","description":"The status of the transaction","example":"pending"},"timestamp":{"type":"integer","description":"The time that the transaction was started, utc unix time","format":"int64","example":1670341423},"type":{"type":"string","description":"The type of the transaction","example":"ApproveWithdraw"}}},"ClientFullRegisterResponse":{"type":"object","properties":{"agentId":{"type":"string"},"feedUrl":{"type":"string"}}},"ClientListResponse":{"type":"array","items":{"type":"string"}},"ClientRegisterRequest":{"type":"object","properties":{"apikey":{"type":"string","description":"The api key for the partner api","example":"eyJrZXkiOiJHM0Fo... (truncated)"},"base64privatekey":{"type":"string","description":"The base64 encoded private key pem of which the public key has been registered in the partner api","example":"LS0tLS1CRUdJTiBS... (truncated)"},"name":{"type":"string","description":"The name of the agent","example":"test-agent"}}},"ConfigResponse":{"type":"object","properties":{"AutoApprove":{"$ref":"#/components/schemas/AutoApprove"},"Base":{"$ref":"#/components/schemas/Base"},"HTTP":{"$ref":"#/components/schemas/HttpSettings"},"LoadBalancing":{"$ref":"#/components/schemas/LoadBalancing"},"Logging":{"$ref":"#/components/schemas/Logging"},"Store":{"$ref":"#/components/schemas/Store"},"Websocket":{"$ref":"#/components/schemas/WebSocketConf"}}},"GenericResponse":{"type":"object","properties":{"Code":{"type":"integer","description":"The result code of the request","format":"int64","example":200},"Msg":{"type":"string","description":"The result message of the request","example":"OK"}}},"HealthCheckStatusResponse":{"type":"object","properties":{"WebSocket":{"$ref":"#/components/schemas/WebsocketStatus"}}},"HttpSettings":{"type":"object","properties":{"Addr":{"type":"string"},"CORSAllowOrigins":{"type":"array","items":{"type":"string"}},"LogAllRequests":{"type":"boolean"},"TLS":{"$ref":"#/components/schemas/TLSConfig"}}},"LoadBalancing":{"type":"object","properties":{"ActionIDExpirationSec":{"type":"integer","format":"int64"},"Enable":{"type":"boolean"},"OnLockErrorTimeOutMs":{"type":"integer","format":"int64"},"RedisConfig":{"$ref":"#/components/schemas/RedisConfig"}}},"Logging":{"type":"object","properties":{"Format":{"type":"string"},"Level":{"type":"string"}}},"OciConfig":{"type":"object","properties":{"Compartment":{"type":"string"},"ConfigSecret":{"type":"string"},"SecretEncryptionKey":{"type":"string"},"Vault":{"type":"string"}}},"RedisConfig":{"type":"object","properties":{"DB":{"type":"integer","format":"int64"},"Host":{"type":"string"},"Password":{"type":"string"},"Port":{"type":"integer","format":"int64"}}},"Store":{"type":"object","properties":{"AwsConfig":{"$ref":"#/components/schemas/AWSConfig"},"FileConfig":{"type":"string"},"OciConfig":{"$ref":"#/components/schemas/OciConfig"},"Type":{"type":"string"}}},"TLSConfig":{"type":"object","properties":{"CertFile":{"type":"string"},"Enabled":{"type":"boolean"},"KeyFile":{"type":"string"}}},"VersionResponse":{"type":"object","properties":{"BuildDate":{"type":"string"},"BuildType":{"type":"string"},"BuildVersion":{"type":"string"}}},"WebSocketConf":{"type":"object","properties":{"PingPeriod":{"type":"integer","format":"int64"},"PongWait":{"type":"integer","format":"int64"},"QredoWebsocket":{"type":"string"},"ReadBufferSize":{"type":"integer","format":"int64"},"ReconnectInterval":{"type":"integer","format":"int64"},"ReconnectTimeOut":{"type":"integer","format":"int64"},"WriteBufferSize":{"type":"integer","format":"int64"},"WriteWait":{"type":"integer","format":"int64"}}},"WebsocketStatus":{"type":"object","properties":{"ConnectedClients":{"type":"integer","format":"uint32"},"LocalFeedUrl":{"type":"string"},"ReadyState":{"type":"string"},"RemoteFeedUrl":{"type":"string"}}}}}}