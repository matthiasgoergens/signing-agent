{"openapi":"3.0.1","info":{"title":"Qredo Signing Agent V2","description":"Qredo Signing Agent service interacts with [Partner API](https://developers.qredo.com/partner-api/api/swagger/) to register a Signing Agent to automate approvals according to your custody policy. <br/>\nAuthentication and encryption are required; set up your [API key and secret in the Qredo Web App](https://developers.qredo.com/signing-agent/v2-signing-agent/get-started/). <br/>","contact":{"name":"Qredo API Services","url":"https://www.qredo.com","email":"support@qredo.com"},"license":{"name":"APACHE 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"},"version":"0.1.0"},"servers":[{"url":"http://localhost:8007/api/v1"},{"url":"https://localhost:8007/api/v1"}],"paths":{"/client":{"get":{"tags":["client"],"summary":"Returns AgentID if it's configured","operationId":"GetAgentID","responses":{"200":{"description":"GetAgentIDResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetAgentIDResponse"}}}}}}},"/client/action/{action_id}":{"put":{"tags":["action"],"summary":"Approve a transaction","operationId":"actionApprove","parameters":[{"name":"action_id","in":"path","description":"the id of the transaction that is received from the feed","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"GenericResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}},"delete":{"tags":["action"],"summary":"Reject a transaction","operationId":"actionReject","parameters":[{"name":"action_id","in":"path","description":"the id of the transaction that is received from the feed","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"GenericResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenericResponse"}}}}}}},"/client/feed":{"get":{"tags":["client"],"summary":"Get approval requests Feed (via websocket) from Qredo Backend","operationId":"ClientFeed","responses":{"200":{"description":"ClientFeedResponse","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClientFeedResponse"}}}}}}},"/client/register":{"post":{"tags":["client"],"summary":"Register a new agent","operationId":"RegisterAgent","requestBody":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientRegisterRequest"}}},"required":false},"responses":{"200":{"description":"ClientFullRegisterResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ClientFullRegisterResponse"}}}}},"x-codegen-request-body-name":"Body"}},"/healthcheck/config":{"get":{"tags":["healthcheck"],"summary":"Check application configuration.","operationId":"HealthcheckConfig","responses":{"200":{"description":"ConfigResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ConfigResponse"}}}}}}},"/healthcheck/status":{"get":{"tags":["healthcheck"],"summary":"Check application status.","operationId":"HealthcheckStatus","responses":{"200":{"description":"HealthCheckStatusResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/HealthCheckStatusResponse"}}}}}}},"/healthcheck/version":{"get":{"tags":["healthcheck"],"summary":"Check application version.","operationId":"HealthcheckVersion","responses":{"200":{"description":"VersionResponse","content":{"*/*":{"schema":{"$ref":"#/components/schemas/VersionResponse"}}}}}}}},"components":{"schemas":{"AWSConfig":{"title":"AWSConfig based signing-agent config. Used when Base StoreType is aws.","type":"object","properties":{"configSecret":{"type":"string"},"region":{"type":"string"}}},"AutoApprove":{"type":"object","properties":{"enabled":{"type":"boolean"},"retryIntervalMaxSec":{"type":"integer","format":"int64"},"retryIntervalSec":{"type":"integer","format":"int64"}}},"Base":{"type":"object","properties":{"pin":{"type":"integer","format":"int64"},"qredoAPI":{"type":"string"}}},"ClientFeedResponse":{"type":"object","properties":{"coreClientID":{"type":"string","description":"The ID of the agent","example":"98cTMMSPrDdcDDVU8idhuJGK2U1P4vmQcsp8wnED8pPR"},"expireTime":{"type":"integer","description":"The time that the transaction will expire, utc unix time","format":"int64","example":1676184187},"id":{"type":"string","description":"The ID of the transaction","example":"2IXwq4klvWbnPf1YaAc1XD85jJX"},"status":{"type":"string","description":"The status of the transaction","example":"pending"},"timestamp":{"type":"integer","description":"The time that the transaction was started, utc unix time","format":"int64","example":1670341423},"type":{"type":"string","description":"The type of the transaction","example":"ApproveWithdraw"}}},"ClientFullRegisterResponse":{"type":"object","properties":{"agentID":{"type":"string"},"feedURL":{"type":"string"}}},"ClientRegisterRequest":{"type":"object","properties":{"APIKey":{"type":"string","description":"The api key for the partner api","example":"eyJrZXkiOiJHM0Fo... (truncated)"},"base64PrivateKey":{"type":"string","description":"The base64 encoded private key pem of which the public key has been registered in the partner api","example":"LS0tLS1CRUdJTiBS... (truncated)"},"name":{"type":"string","description":"The name of the agent","example":"test-agent"}}},"ConfigResponse":{"type":"object","properties":{"autoApproval":{"$ref":"#/components/schemas/AutoApprove"},"base":{"$ref":"#/components/schemas/Base"},"http":{"$ref":"#/components/schemas/HttpSettings"},"loadBalancing":{"$ref":"#/components/schemas/LoadBalancing"},"logging":{"$ref":"#/components/schemas/Logging"},"store":{"$ref":"#/components/schemas/Store"},"websocket":{"$ref":"#/components/schemas/WebSocketConf"}}},"GenericResponse":{"type":"object","properties":{"Code":{"type":"integer","description":"The result code of the request","format":"int64","example":200},"Msg":{"type":"string","description":"The result message of the request","example":"OK"}}},"GetAgentIDResponse":{"type":"object","properties":{"Body":{"$ref":"#/components/schemas/GetAgentIDResponse"}}},"HealthCheckStatusResponse":{"type":"object","properties":{"websocket":{"$ref":"#/components/schemas/WebsocketStatus"}}},"HttpSettings":{"type":"object","properties":{"CORSAllowOrigins":{"type":"array","items":{"type":"string"}},"TLS":{"$ref":"#/components/schemas/TLSConfig"},"addr":{"type":"string"},"logAllRequests":{"type":"boolean"}}},"LoadBalancing":{"type":"object","properties":{"actionIDExpirationSec":{"type":"integer","format":"int64"},"enable":{"type":"boolean"},"onLockErrorTimeoutMs":{"type":"integer","format":"int64"},"redis":{"$ref":"#/components/schemas/RedisConfig"}}},"Logging":{"type":"object","properties":{"format":{"type":"string"},"level":{"type":"string"}}},"OciConfig":{"type":"object","properties":{"compartment":{"type":"string"},"configSecret":{"type":"string"},"secretEncryptionKey":{"type":"string"},"vault":{"type":"string"}}},"RedisConfig":{"type":"object","properties":{"db":{"type":"integer","format":"int64"},"host":{"type":"string"},"password":{"type":"string"},"port":{"type":"integer","format":"int64"}}},"Store":{"type":"object","properties":{"aws":{"$ref":"#/components/schemas/AWSConfig"},"file":{"type":"string"},"oci":{"$ref":"#/components/schemas/OciConfig"},"type":{"type":"string"}}},"TLSConfig":{"type":"object","properties":{"certFile":{"type":"string"},"enabled":{"type":"boolean"},"keyFile":{"type":"string"}}},"VersionResponse":{"type":"object","properties":{"buildDate":{"type":"string"},"buildType":{"type":"string"},"buildVersion":{"type":"string"}}},"WebSocketConf":{"type":"object","properties":{"pingPeriodSec":{"type":"integer","format":"int64"},"pongWaitSec":{"type":"integer","format":"int64"},"qredoWebsocket":{"type":"string"},"readBufferSize":{"type":"integer","format":"int64"},"reconnectIntervalSec":{"type":"integer","format":"int64"},"reconnectTimeoutSec":{"type":"integer","format":"int64"},"writeBufferSize":{"type":"integer","format":"int64"},"writeWaitSec":{"type":"integer","format":"int64"}}},"WebsocketStatus":{"type":"object","properties":{"connectedClients":{"type":"integer","format":"uint32"},"localFeedURL":{"type":"string"},"readyState":{"type":"string"},"remoteFeedURL":{"type":"string"}}}}}}